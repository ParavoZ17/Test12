import{a as P,S as E,i as q}from"./assets/vendor-c493984e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();async function R(n,t,o){const a=new URLSearchParams({key:"44211442-9d91bcb26581fffa86e5a5ce6",q:`${n}`,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:o});return(await P.get(`https://pixabay.com/api?${a}`)).data}const I={getImages:R},D=n=>{const t=document.createElement("div");t.classList.add("fotoInfo");const o=document.createElement("div");o.classList.add("infoItem");const a=document.createElement("p");a.classList.add("key"),a.textContent="likes";const e=document.createElement("p");e.classList.add("valueInfo"),e.textContent=n.likes;const s=document.createElement("div");s.classList.add("infoItem");const l=document.createElement("p");l.classList.add("key"),l.textContent="views";const f=document.createElement("p");f.classList.add("valueInfo"),f.textContent=n.views;const p=document.createElement("div");p.classList.add("infoItem");const h=document.createElement("p");h.classList.add("key"),h.textContent="comments";const g=document.createElement("p");g.classList.add("valueInfo"),g.textContent=n.comments;const m=document.createElement("div");m.classList.add("infoItem");const L=document.createElement("p");L.classList.add("key"),L.textContent="downloads";const v=document.createElement("p");return v.classList.add("valueInfo"),v.textContent=n.downloads,o.appendChild(a),o.appendChild(e),s.appendChild(l),s.appendChild(f),p.appendChild(h),p.appendChild(g),m.appendChild(L),m.appendChild(v),t.appendChild(o),t.appendChild(s),t.appendChild(p),t.appendChild(m),t},M=n=>{const t=document.createElement("li");t.classList.add("gallery-item");const o=document.createElement("a");o.classList.add("gallery-link"),o.href=n.largeImageURL;const a=document.createElement("img");return a.src=n.webformatURL,a.alt=n.tags,a.classList.add("gallery-image"),o.appendChild(a),t.appendChild(o),t.appendChild(D(n)),t},b={createImages:M},A=document.querySelector(".searchImages"),N=document.querySelector("form"),y=document.querySelector(".gallery"),c=document.querySelector(".loadingMessage"),r=document.querySelector(".search_btn");c.style.display="none";const x="We're sorry, but you've reached the end of search results.",S="Sorry, there are no images matching your search query. Please try again!",k="Sorry, something went wrong...",i=n=>{q.error({title:"Attention",message:n,position:"topRight"})};let w="",u="",d=1,C=15;const O=n=>Math.ceil(n/C)<=d;N.addEventListener("submit",async n=>{if(n.preventDefault(),c.style.display="block",u=A.value,u==="")return c.style.display="none",i("Search text can't be empty!");try{d=1;const t=await I.getImages(u,d,C),{hits:o,totalHits:a}=t,e=o.map(l=>b.createImages(l));if(e.length===0)return c.style.display="none",i(S);y.innerHTML="",c.style.display="none",y.append(...e);const s=new E(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"});O(a)?(r.style.display="none",i(x)):r.style.display="block",s.refresh()}catch(t){c.style.display="none",console.log(t),i(k)}});r.addEventListener("click",async n=>{n.preventDefault();try{d+=1;const t=await I.getImages(u,d,C),{hits:o,totalHits:a}=t,e=o.map(l=>b.createImages(l));if(e.length===0)return c.style.display="none",i(S);c.style.display="none",y.append(...e),w=y.querySelector(".gallery-item").getBoundingClientRect().height,window.scrollBy({top:w*2,behavior:"smooth"}),O(a)?(r.style.display="none",i(x)):r.style.display="block",new E(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"}).refresh()}catch(t){i(k),console.log(t)}});
//# sourceMappingURL=commonHelpers.js.map
