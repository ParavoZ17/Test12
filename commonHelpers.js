import{a as k,S as E,i as O}from"./assets/vendor-c493984e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();async function P(n,t,o){const a=new URLSearchParams({key:"44211442-9d91bcb26581fffa86e5a5ce6",q:`${n}`,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:o});return(await k.get(`https://pixabay.com/api?${a}&`)).data}const I={getImages:P},q=n=>{const t=document.createElement("div");t.classList.add("fotoInfo");const o=document.createElement("div");o.classList.add("infoItem");const a=document.createElement("p");a.classList.add("key"),a.textContent="likes";const e=document.createElement("p");e.classList.add("valueInfo"),e.textContent=n.likes;const s=document.createElement("div");s.classList.add("infoItem");const c=document.createElement("p");c.classList.add("key"),c.textContent="views";const y=document.createElement("p");y.classList.add("valueInfo"),y.textContent=n.views;const p=document.createElement("div");p.classList.add("infoItem");const f=document.createElement("p");f.classList.add("key"),f.textContent="comments";const h=document.createElement("p");h.classList.add("valueInfo"),h.textContent=n.comments;const m=document.createElement("div");m.classList.add("infoItem");const g=document.createElement("p");g.classList.add("key"),g.textContent="downloads";const L=document.createElement("p");return L.classList.add("valueInfo"),L.textContent=n.downloads,o.appendChild(a),o.appendChild(e),s.appendChild(c),s.appendChild(y),p.appendChild(f),p.appendChild(h),m.appendChild(g),m.appendChild(L),t.appendChild(o),t.appendChild(s),t.appendChild(p),t.appendChild(m),t},D=n=>{const t=document.createElement("li");t.classList.add("gallery-item");const o=document.createElement("a");o.classList.add("gallery-link"),o.href=n.largeImageURL;const a=document.createElement("img");return a.src=n.webformatURL,a.alt=n.tags,a.classList.add("gallery-image"),o.appendChild(a),t.appendChild(o),t.appendChild(q(n)),t},b={createImages:D},R=document.querySelector(".searchImages"),M=document.querySelector("form"),v=document.querySelector(".gallery"),i=document.querySelector(".loadingMessage"),r=document.querySelector(".search_btn");i.style.display="none";const w="We're sorry, but you've reached the end of search results.",A="Sorry, there are no images matching your search query. Please try again!",x="Sorry, somthimg went wrong...",l=n=>{O.error({title:"Attention",message:n,position:"topRight"})};let u="",d=1,C=15;const S=n=>Math.ceil(n/C)===d;M.addEventListener("submit",async n=>{if(n.preventDefault(),i.style.display="block",u=R.value,u==0)return i.style.display="none",l("Search text cant be empty!");d=1;try{const t=await I.getImages(u,d,C),{hits:o}=t,a=o.map(s=>b.createImages(s));a.length===0&&l(A),v.innerHTML="",i.style.display="none",v.append(...a);const e=new E(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"});S(totalHits)?(r.style.display="none",l(w)):r.style.display="block",e.refresh()}catch{i.style.display="none",l(x)}});r.addEventListener("click",async n=>{try{n.preventDefault(),d+=1;const t=await I.getImages(u,d,C),{hits:o,totalHits:a}=t,e=o.map(c=>b.createImages(c));e.length===0&&l(),i.style.display="none",v.append(...e),S(a)?(r.style.display="none",l(w)):r.style.display="block",new E(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"}).refresh()}catch(t){l(x),console.log(t)}});
//# sourceMappingURL=commonHelpers.js.map
